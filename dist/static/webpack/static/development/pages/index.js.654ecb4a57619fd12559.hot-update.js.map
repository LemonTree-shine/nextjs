{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.654ecb4a57619fd12559.hot-update.js","sources":["webpack:///./pages/index.jsx"],"sourcesContent":["import {Component} from \"react\";\r\nimport axios from \"axios\";\r\nimport Link from 'next/link';\r\nimport Nav from \"../component/nav/nav\";\r\nimport dynamic from 'next/dynamic';\r\nimport \"../style/index.less\";\r\n\r\n// const Nav = dynamic(import('../component/nav/nav'),{\r\n//     ssr:false\r\n// })\r\n\r\nexport default class Index extends Component{\r\n    render(){\r\n        // console.log(this.props.pathname);\r\n        return <div>\r\n            {/* 导航部分内容 */}\r\n            <Nav pathname={this.props.pathname} longinUserInfo={this.state.longinUserInfo}/>\r\n            <div className=\"common-content-box\">\r\n                <div className=\"common-main-content radio5\">\r\n                    {/* <i className=\"fa fa-car\" style={{\"color\":\"red\"}}></i> */}\r\n                    <div className=\"list-title\">文章列表</div>\r\n                    <div className=\"list-box\">\r\n                        <div className=\"content-list\">\r\n                            <div className=\"share-info\"><span className=\"share-title-color\">分享</span> · 西瓜太郎 · 4小时前 / javascript · node</div>\r\n                            <div className=\"content-list-f\">\r\n                                <h3 className=\"title pt-5\">Node.js开发微信公众号</h3>\r\n                                <div className=\"describe\">但是很多年轻人还是选择去相亲。 今天我就参与了一场相亲活动，怎么说呢？还是蛮有意思的，两个陌生人一上来就聊些我们做了很...</div>\r\n                            </div>\r\n                            <div className=\"content-list-img\">\r\n                                <img src=\"/static/image/github.png\" alt=\"\"/>\r\n                            </div>\r\n                            <div className=\"action-list\">\r\n                                <div className=\"fa fa-heart fa-icon\"> 10</div>\r\n                                <div className=\"fa fa-comments fa-icon\"> 10</div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                    \r\n                </div>\r\n                <div className=\"common-main-tool\">\r\n                    {/* <a href=\"/api/getGithubCode\">点我</a> */}\r\n                    {this.state.ifLogin?<div className=\"user-info radio5\">\r\n                        <img className=\"head-img\" src={this.state.longinUserInfo.avatar_url}></img>\r\n                        <div className=\"github-name\">\r\n                            <a href={this.state.longinUserInfo.html_url}><strong>{this.state.longinUserInfo.login_name}</strong>({this.state.longinUserInfo.name})</a>\r\n                        </div>\r\n                        <div className=\"t-l-c\">\r\n                            <i className=\"fa fa-smile-o\"></i>&nbsp;&nbsp;<span>Welcome to here.</span>\r\n                        </div>\r\n                    </div>:<div className=\"login radio5\">\r\n                        <a href=\"/api/getGithubCode\"><i className=\"fa fa-github\"></i></a>\r\n                    </div>}\r\n                    <div className=\"common-part radio5\">\r\n                        <div className=\"title\">\r\n                            学习网站\r\n                        </div>\r\n                        <div className=\"learn-tool-box\">\r\n                            <a className=\"list\" href=\"http://nodejs.cn/\">Node</a>\r\n                            <a className=\"list\" href=\"https://www.webpackjs.com/\">webpack</a>\r\n                            <a className=\"list\" href=\"https://reactjs.org/\">react</a>\r\n                            <a className=\"list\" href=\"https://cn.vuejs.org/\">vue</a>\r\n                            <a className=\"list\" href=\"https://juejin.im/\">掘金</a>\r\n                            <a className=\"list\" href=\"https://www.jianshu.com/\">简书</a>\r\n                            <a className=\"list\" href=\"http://nextjs.frontendx.cn/\">next.js</a>\r\n                        </div>\r\n                    </div>\r\n\r\n                    <div className=\"common-part radio5\">\r\n                        <div className=\"title\">\r\n                            推荐文章\r\n                        </div>\r\n                        <div className=\"article-tool-box\">\r\n                            <a className=\"list\" title=\"浏览器渲染机制\" href=\"https://www.jianshu.com/p/b22ff1771225\">浏览器渲染机制</a>\r\n                            <a className=\"list\" title=\"nodejs开发微信公众号\" href=\"https://juejin.im/post/5be3af8ae51d4554b54b0a0d\">nodejs开发微信公众号</a>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n        </div>\r\n    }\r\n\r\n    //异步获取数据，在服务端执行\r\n    static async getInitialProps({ req }) {\r\n        \r\n        return {\r\n            pathname:req.url  //获取当前路径用于选中菜单\r\n        }\r\n    }\r\n\r\n    constructor(){\r\n        super();\r\n        this.state = {\r\n            ifLogin:false,\r\n            longinUserInfo:{}\r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        axios.post(\"/api/getUserInfo\",{},{\r\n            headers:{\r\n                \"Content-Type\":\"text/plain; charset=utf-8\"\r\n            }\r\n        }).then((data)=>{\r\n            console.log(data);\r\n            if(data.data.code===\"0\"){\r\n                this.setState({\r\n                    ifLogin:true,\r\n                    longinUserInfo:data.data.data[0]\r\n                });\r\n            }\r\n        });\r\n\r\n\r\n        window.onscroll = debounce();\r\n\r\n        //防抖函数\r\n        function debounce(){\r\n            var time;\r\n            return function(){\r\n                if(time) clearTimeout(time);\r\n\r\n                time = setTimeout(function(){\r\n                    var st = document.documentElement.scrollTop;\r\n                    var ch = document.documentElement.clientHeight;\r\n                    var bh = document.body.clientHeight;\r\n                    //判断滚动条是否滚动到底\r\n                    if(st+ch===bh){\r\n                        console.log(\"到底了\");\r\n                    }\r\n                },100)\r\n            }\r\n        }\r\n    }\r\n    login = ()=>{\r\n        axios.post(\"/api/getGithubCode\")\r\n    }\r\n}"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAGA;AACA;AACA;AACA;;;;;;;AACA;AACA;AACA;AAEA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AACA;AAAA;AAMA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AAEA;AAAA;AACA;AAAA;AAAA;AAAA;AAEA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAIA;AAAA;AACA;AAAA;AAGA;AAAA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAMA;AACA;;;;;;;;;;;;AAEA;AAEA;AACA;AACA;AAFA;AACA;;;;;;;;;;;;;;;;;AAIA;AAAA;AACA;AADA;AACA;AAAA;AACA;AAFA;AA6CA;AACA;AACA;AA7CA;AACA;AACA;AAFA;AAFA;AAMA;AACA;;;AACA;AAAA;AACA;AAAA;AACA;AACA;AADA;AADA;AAKA;AACA;AAAA;AACA;AACA;AACA;AAFA;AAIA;AACA;AAGA;AACA;AAEA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;AAzHA;AACA;;;;;A","sourceRoot":""}